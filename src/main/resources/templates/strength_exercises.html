<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Exercises</title>
    <link rel="stylesheet" type="text/css" href="/styles.css">
    <link rel="stylesheet" type="text/css" href="/add-form.css">
    <link rel="stylesheet" type="text/css" href="/pagination.css">
    <link rel="stylesheet" type="text/css" href="/table.css">
</head>
<body>
<h1>Exercise Management</h1>
<div class="container">
    <div class="table-container">
        <table>
            <tr>
                <th>Exercise Name</th>
                <th>Set Count</th>
                <th>Repetition</th>
                <th>Exercise Date</th>
                <th>Delete</th>
            </tr>
            <tr th:if="${#lists.isEmpty(exercises)}">
                <td colspan="5" class="empty-table">No completed exercises</td>
            </tr>
            <tr th:each="exercise : ${exercises}">
                <td th:text="${exercise.exerciseName}"></td>
                <td th:text="${exercise.setCount}"></td>
                <td th:text="${exercise.repetition}"></td>
                <td th:text="${exercise.exerciseDate}"></td>
                <td>
                    <form th:action="@{${deleteUrl}(id=${exercise.exerciseId})}" method="post">
                        <button type="submit" class="delete-button">X</button>
                    </form>
                </td>
            </tr>
        </table>
    </div>
    <div class="add-form-container">
            <h3>ADD STRENGTH EXERCISE</h3>
            <form th:action="@{${saveExerciseUrl}}" method="post">
                <div class="select-container">
                    <label for="exerciseName">Strength Exercise Name:</label>
                    <select id="exerciseName" name="exerciseNameId" required>
                        <option value="">Select Strength Exercise</option>
                        <option th:each="exercise : ${exercisesNames}"
                                th:value="${exercise.exerciseNameId}"
                                th:text="${exercise.exerciseName}"></option>
                    </select>
                </div>
                <div>
                    <label for="setCount">Set Count:</label>
                    <input type="number" id="setCount" name="setCount" required>
                </div>
                <div>
                    <label for="repetition">Repetition:</label>
                    <input type="number" id="repetition" name="repetition" required>
                </div>
                <div>
                    <label for="exerciseDate">Exercise Date:</label>
                    <input type="date" id="exerciseDate" name="exerciseDate"
                           th:value="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" required>
                </div>
                <button class="save-button" type="submit">ADD STRENGTH EXERCISE</button>
            </form>
            <h3>ADD EXERCISE NAME</h3>
            <form th:action="@{${saveExerciseNameUrl}}" method="post">
                <div class="select-container">
                    <label for="exerciseNameName">Exercise Name:</label>
                    <input type="text" id="exerciseNameName" name="exerciseName" required>
                </div>
                <button class="save-button" type="submit">ADD EXERCISE NAME</button>
            </form>
        </div>
</div>
<div class="pagination-container">
    <a th:href="@{${baseUrl}}">First</a>
    <a th:href="@{${baseUrl}(page=${currentPage - 1})}" th:if="${currentPage > 0}">Previous</a>
    <span th:text="${currentPage + 1}"></span> / <span th:text="${totalPages}"></span>
    <a th:href="@{${baseUrl}(page=${currentPage + 1})}" th:if="${currentPage < totalPages - 1}">Next</a>
    <a th:href="@{${baseUrl}(page=${totalPages} - 1)}">Last</a>
</div>
</body>
</html>